#main
  .container
    .row
      .col-md-8
        .row
          .col-md-3

            -#LOGO
            .logo-panel
              %a.logo{href:"/"}
                %h1.logo
                  skedge
                %small.subtitle
                  better better cdcs
              
          -#SEARCHBAR
          .col-md-9
            =form_tag("/", method:"post", id:"form") do 
              .input-group
                %input.form-control#search-input{name:"query", type:"search", placeholder:"CSC / CSC 171 / Science of Programming", value:"#{@query}"}
                %span.input-group-btn
                  %button#search-btn{type:"submit", :class=>"btn btn-default"}
                    %span.glyphicon.glyphicon-search
                  
              =render partial:"filters"

        -#RESULTS
        .row
          .col-md-12
            -if !@courses
              =render partial:"splash"

              #depts.cols
                -@depts.each do |dept|
                  -if !dept.courses.empty?
                    .dept
                      %a
                        %strong
                          =inline_form(dept.short)
                      ="-"
                      =dept.name
            -elsif @courses.empty?
              %hr
              %p.lead.no-results
                No results found.
            -else
              .search-results
                .search-info
                  Found
                  =@courses.size
                  ="course#{@courses.size == 1 ? "" : "s"}"
                  in
                  %span#render-time
                -@courses.each do |course|
                  =render partial:"course", locals: {course: course.decorate}
           
      -#SCHEDULE   
      .col-md-4 
        =render partial:"schedule"

:javascript
  $('#render-time').html("#{(Time.now-@start_time).round(3)} seconds.");
