.box
  %p.lead
    =surround "#{course.department.short}", ": #{course.formatted_name}" do
      %span.cnum= course.num
    %button.btn.add-course-btn{type:"button", :class => "#{course.term == "Spring" ? "btn-success" : "disabled"}"}
      -if course.term == "Spring"
        Add Course
      -else
        =course.term
        =course.year 
  %p.info
    -if course.time_tba?
      %strong Time and place:
      TBA
    -else
      %span.right-margin-20
        %strong Time:
        =formatted_time_and_day(course)
      %strong Place:
      =course.building
      =course.room
  -if course.instructors
    .info
      %strong Instructors:
      =format_instructors(course.instructors)
  -if course.comments
    .info
      %strong Comments:
      =format_courselist(course.comments)
  -if course.has_prereqs?
    .info
      %strong Prerequisites:
      =format_courselist(course.prereqs)
  -if course.cross_listed
    .info
      %strong Cross listed:
      =format_courselist(course.cross_listed)
  %p.desc
    =course.desc

  -if course.has_labs?
    .show
      %a{href:"#", onclick:"$(this).parent().parent().find('.labs').show(); $(this).hide(); return false;"} 
        %strong
          Show
          =course.labs.size
          lab sections
    .labs
      %p
        %strong Lab sections:
      %table
        -course.labs.each do |lab|
          %tr
            %td.middle
              %button.btn.btn-sm.btn-primary.lab-btn{type:"button"}
                Add Lab
            %td.lab-info
              .info
                =succeed "," do
                  =formatted_time_and_day(lab)
                =lab.building
              .info
                =enroll_ratio(lab)
                students enrolled

  .progress
    %div.progress-bar{style:"width: #{enroll_bar_precentage(course)}%", :class => "progress-bar-#{enroll_bar_style(course)}"}

  .progress-num
    %small
      =enroll_ratio(course)
      enrolled
